# v0.3.4-examples-rework Design

## Overview

**Purpose**: Clean up and reorganize the examples directory with focused, maintainable quick-start tutorials.

**Core Principles**:
- **YAGNI**: Minimal set of examples covering essential workflows
- **No temporal context**: Remove all version references, "new in...", "improved" comments
- **Quick-start focused**: 50-100 lines, heavy inline comments, copy-paste ready
- **Flat structure**: All examples in `example/` root, no subdirectories
- **Evergreen documentation**: Examples describe what code does, not its history

**Scope**:
- Create 4 new example scripts from scratch
- Delete all existing examples and orphaned directories
- Update CLAUDE.md examples commands section
- Keep examples simple and single-purpose

**Out of Scope**:
- Interactive demo (interactive interface is core functionality in pyvr.interface, not an example)
- Advanced examples or tutorials
- Jupyter notebooks
- Video/GIF generation
- External data loading examples

## Example Scripts Specification

### 1. `basic_rendering.py`
**Purpose**: Minimal complete pipeline - volume to rendered image

**Key elements**:
- Create synthetic volume (sphere, 128³)
- Set up renderer with balanced preset
- Configure camera with front view
- Apply simple transfer functions (viridis colormap, linear opacity)
- Render and display with matplotlib
- ~60 lines total

**Content details**:
- Dataset: `sphere` (simplest, fastest)
- Volume size: 128³ (quick to generate)
- Render resolution: 512×512 (good quality, fast)
- Camera: `Camera.front_view(distance=3.0)`
- Light: `Light.default()`
- Config: `RenderConfig.balanced()`
- Transfer functions: Viridis colormap + linear opacity (0.0, 0.1)
- Output: Single matplotlib figure with rendered image

### 2. `camera_demo.py`
**Purpose**: Demonstrate camera system capabilities

**Key elements**:
- Show 4 preset views (front, side, top, isometric) in 2×2 grid
- Demonstrate CameraController for manual manipulation
- Show CameraPath animation (interpolate between 2 views)
- Display all 6 results with camera parameters labeled
- ~100 lines total

**Content details**:
- Dataset: `double_sphere` (interesting from multiple angles)
- Volume size: 128³
- Render resolution: 384×384 (smaller for multi-view grid)
- 6 views in 2×3 grid layout
- Include azimuth/elevation/distance labels on each subplot
- Demonstrate: presets, controller.orbit(), CameraPath.interpolate()

### 3. `transfer_functions_demo.py`
**Purpose**: Show different transfer function configurations

**Key elements**:
- Same volume, 4 different transfer function combinations in 2×2 grid
- Linear opacity + viridis
- Peak opacity + plasma
- Gaussian opacity + coolwarm
- Custom opacity curve + jet
- Display with transfer function plots below each image
- ~100 lines total

**Content details**:
- Dataset: `torus` (shows transfer functions well)
- Volume size: 128³
- Render resolution: 384×384
- 2×2 grid with different TF combinations
- Include small TF visualization below each render
- Show: linear, peaks, gaussian opacity patterns

### 4. `benchmark.py`
**Purpose**: Performance comparison across quality presets

**Key elements**:
- Test all 5 quality presets (preview → ultra)
- Report timing statistics (mean, std, FPS)
- Show configuration details (step_size, max_steps, samples/ray)
- Print recommendations for each preset use case
- ~100 lines (rewrite cleanly)

**Content details**:
- Dataset: `double_sphere`
- Volume size: 256³ (more realistic workload)
- Render resolution: 512×512
- Test all 5 presets: preview, fast, balanced, high_quality, ultra_quality
- 10 runs per preset (after 1 warmup)
- Output: Table with timing stats + recommendations

## File Structure & Cleanup

### New Structure
```
example/
├── basic_rendering.py          # NEW: Minimal pipeline demo
├── camera_demo.py              # NEW: Camera system demo
├── transfer_functions_demo.py  # NEW: Transfer functions demo
└── benchmark.py                # NEW: Rewritten performance benchmark
```

### Files to Delete
```
example/
├── ModernglRender/             # DELETE: Entire directory
│   ├── enhanced_camera_demo.py
│   ├── interactive_interface_demo.py
│   ├── multiview_example.py
│   ├── rgba_demo.py
│   ├── v031_features_demo.py
│   ├── pyvr/                   # DELETE: Orphaned directory
│   ├── tests/                  # DELETE: Orphaned directory
│   └── __pycache__/
└── benchmark.py                # DELETE: Will be replaced
```

### Cleanup Operations
1. Delete `example/ModernglRender/` entirely (including orphaned `pyvr/` and `tests/`)
2. Delete `example/benchmark.py`
3. Create 4 new example scripts in `example/` root
4. Update `CLAUDE.md` examples commands section
5. Update README.md examples section (if present)

### Git Strategy
- Create branch `v0.3.4-examples-rework`
- Commit deletions separately from new files
- Commit each new example script individually for clear history

## Code Style & Structure

### Example Script Template
Each example follows this pattern:

```python
# ABOUTME: Brief one-line description of what this example demonstrates
# ABOUTME: Second line with key technical details

"""
Docstring title

Longer description of what this example shows.
Lists key PyVR features demonstrated.
"""

import statements (grouped: stdlib, third-party, pyvr)

# Constants at top
VOLUME_SIZE = 128
IMAGE_RES = 512

def main():
    """Run the demo."""
    # Step 1: Create volume
    # Inline comment explaining what we're doing
    volume_data = create_sample_volume(...)

    # Step 2: Set up renderer
    # Inline comment explaining parameters
    renderer = VolumeRenderer(...)

    # ... etc

    # Final step: Display
    plt.show()

if __name__ == "__main__":
    main()
```

### Code Style Rules
- **Heavy inline comments**: Explain every step for beginners
- **Named constants**: Use UPPER_CASE for magic numbers
- **No version references**: No "v0.2.6", "new in", "improved" anywhere
- **No temporal language**: No "old", "legacy", "refactored", "enhanced"
- **Simple variable names**: `volume`, `renderer`, `camera` (not `vol_obj`, `my_renderer`)
- **Explicit over implicit**: Show all parameters, even defaults
- **Print statements**: Include progress messages for long-running operations

### Documentation Comments
- **ABOUTME headers**: 2 lines max, greppable
- **Docstrings**: What this example demonstrates, not implementation history
- **Inline comments**: Explain WHY we chose these values, not just WHAT

## Testing Strategy

### Manual Testing
- Run each example and verify output
- Visual validation: Ensure renderings look correct
- Error checking: Examples should never crash with default PyVR install

### No Unit Tests Needed
- Examples are documentation, not core functionality
- Visual inspection is the primary validation method

## Documentation Updates

### CLAUDE.md Updates
Update the "Running Examples" section:

```bash
# Run basic rendering example
python example/basic_rendering.py

# Run camera demo
python example/camera_demo.py

# Run transfer functions demo
python example/transfer_functions_demo.py

# Run benchmark (compares quality presets)
python example/benchmark.py
```

### README.md Updates
- Update Quick Start code examples if needed
- Ensure example code matches actual example scripts
- Remove references to deleted examples

## Success Criteria

- ✅ All old examples deleted
- ✅ 4 new clean examples created
- ✅ All examples run without errors
- ✅ No version references or temporal language
- ✅ Heavy inline comments for beginners
- ✅ Flat directory structure
- ✅ Documentation updated
- ✅ Git history clean with individual commits
